# Activity Summary for 1/14/2026

## 2:46:09 PM
The changes primarily focus on two main files: `FolderList.jsx` for managing a list of folders, and `FolderReview.jsx` for displaying the details of a specific folder. There are also updates to `constants.js` and the creation of several placeholder components for `FolderReview`.

### File-Specific Updates:

#### `g:\wamp64\www\sitenettech\api-client\src\pages\backend\Folder\FolderList.jsx` (1/14/2026, 12:50:51 PM - 2:28:46 PM)
This file, representing the main folder listing page, shows consistent code across all provided timestamps, indicating no functional modifications in the snippets during this period, likely due to frequent saves or auto-saves.
- **Core Functionality**: Manages fetching, creating, and filtering folder data.
- **State Management**: Utilizes numerous `useState` hooks for UI states (loading, modals, pagination, filters) and data states (tableData, tableHeader, topSummary).
- **Data Fetching**: Employs `fetchListAllData` to retrieve folders, supporting pagination and ordering.
- **Real-time Updates**: Includes a Supabase real-time listener on the 'public:folders' channel, ensuring the list updates dynamically when folder data changes.
- **Folder Creation**: Uses `formik` with `folderCreateSchema` for validation. The submission logic inserts a new folder into the 'folders' table, navigates to the edit page, and then creates associated passenger records in the 'passengers' table based on the number of passengers specified in the folder.
- **Folder Filtering**: Implements a comprehensive filtering mechanism using `formik`. Initial values allow filtering by date ranges (created, updated, travel departure), exact matches (folder_uid, order_id, invoice_id, created_by, updated_by, client_type, folder_status), and text searches for client and passenger details. The `handleFilterFormSubmit` function constructs dynamic Supabase queries.
- **Top Summary**: Fetches aggregated counts for folder statuses (open, confirmed, quoted, today, this month).
- **PDF Integration**: Imports `pdfjs-dist` and `pdf.worker`, suggesting the capability to handle or display PDFs is implemented or planned.

#### `g:\wamp64\www\sitenettech\api-client\src\constants\constants.js` (1/14/2026, 1:47:21 PM - 2:06:50 PM)
This file defines various global constants for the application. The content remains identical across its two logged timestamps.
- **General Constants**: Includes `namePrefixes`, `gender`, `Currency` types, `userMenus`, `HTTP_STATES`, `ERROR_STATUS`, and `ERROR_MESSAGE` for consistent error handling.
- **Booking & Travel**: Defines `paymentMethods`, `cabinClasses`, `journeyTypes`, and `bookingStatuses` with associated CSS classes and labels.
- **Financial**: Provides `priceFormattor` for currency display, `currency` objects with codes and symbols, and `currency_symbol_list` for quick symbol lookup.
- **Time Formatting**: Includes `formatTime` utility.
- **UI Theming**: Features an extensive `colorPalette` with various color names and shades, implying a well-defined design system.

#### `g:\wamp64\www\sitenettech\api-client\src\pages\backend\Folder\FolderReview\FolderReview.jsx` (1/14/2026, 2:03:51 PM - 2:40:15 PM)
This file manages the detailed view for a specific folder, showing several iterative changes focused on component imports and data persistence.
- **Component Import Refactoring**:
    - Between 2:10:11 PM and 2:17:10 PM, many local component imports (e.g., `Pageheader`, `Button`, `ErrorBoundary`, `PageLoader`, `AirSegments`, `AirTickets`, `Passengers`) were updated to use deeper relative paths (e.g., `../../../components/UI/Breadcrumbs/Pageheader` to `../../../../components/UI/Breadcrumbs/Pageheader`), suggesting a restructuring of the UI component library.
    - The `BookingDetailsButtons` component import was removed or commented out at 2:11:46 PM and 2:16:45 PM respectively.
- **Data Persistence with `sessionStorage`**:
    - At 2:19:17 PM, `useLocation` was added to retrieve `parsedData` from navigation state (`propsData`).
    - A new `useEffect` was introduced to manage `folderData`. If `propsData` is available, it's used and stored in `sessionStorage` with a 5-minute expiry. Otherwise, it attempts to retrieve `folderData` from `sessionStorage` and clears it if expired, providing state persistence across page navigations.
    - At 2:20:56 PM, `setPageLoading(false)` was moved inside this `useEffect` to ensure the page loader is dismissed once `folderData` is established.
- **UI Structure**: Defines `tabs` (Client Contact, Passenger, Itinerary Item, Fare Rules, Baggages, CRS Config) and `childTabs` (Air Segment, Air Ticket, Hotel, Transfer, Tour, Insurance, Visa, Car, Other) for navigating different aspects of the folder review.
- **Data Handling**: Includes functions like `userInfo` to fetch user details and `getFolderOptions` to process and filter available services based on response data.

#### `g:\wamp64\www\sitenettech\api-client\src\pages\backend\Folder\FolderReview\parts\Folder\Folder.jsx` (1/14/2026, 2:14:31 PM)
A new, minimal React functional component named `Folder` was created, acting as a placeholder.

#### `g:\wamp64\www\sitenettech\api-client\src\pages\backend\Folder\FolderReview\parts\Passengers\Passengers.jsx` (1/14/2026, 2:15:07 PM)
A new, minimal React functional component named `Passengers` was created, acting as a placeholder.

#### `g:\wamp64\www\sitenettech\api-client\src\pages\backend\Folder\FolderReview\parts\AirTickets\AirTickets.jsx` (1/14/2026, 2:16:09 PM)
A new, minimal React functional component named `AirTickets` was created, acting as a placeholder.

### Patterns and Recurring Elements:

- **Component Restructuring**: A significant pattern is the relocation of common UI components to a higher-level `components/UI` directory, evidenced by the updated import paths in `FolderReview.jsx`. This indicates a move towards a more organized and reusable component architecture.
- **State Management Complexity**: Both `FolderList.jsx` and `FolderReview.jsx` manage a considerable amount of local state using `useState`, covering loading indicators, modal visibility, data, and UI interactions.
- **Formik for Forms**: `useFormik` is consistently used for handling form state, validation schemas, and submission logic in `FolderList.jsx` for both creation and filtering.
- **Supabase Integration**: Supabase is a central dependency for data interaction, including querying, inserting, and real-time updates across multiple features.
- **Placeholder Components**: The creation of basic "parts" components (`Folder`, `Passengers`, `AirTickets`) in the `FolderReview` section suggests an ongoing development process where the structure is being laid out before full implementation.
- **Data Persistence**: The introduction of `sessionStorage` for `folderData` in `FolderReview.jsx` highlights a need for improving user experience by maintaining data across route changes.