# Activity Summary for 1/11/2026

## 4:51:07 PM
For the file `g:\wamp64\www\sitenettech\api-client\src\pages\backend\Folder\FolderList.jsx`, two log entries were provided with timestamps 1/11/2026, 4:47:09 PM and 1/11/2026, 4:47:25 PM. Both code snippets are identical and appear to be truncated at the same line within the `filterData`'s `handleFilterFormSubmit` function, specifically while building `orConditions` for text searches. Therefore, no functional changes are observed between these two timestamps.

The file `FolderList.jsx` is a React component responsible for displaying and managing a list of folders. Key functionalities and patterns observed in the provided (incomplete) code include:

*   **State Management:** Extensive use of `useState` for controlling UI elements (loading states, modal visibility, pagination, table data, filter data, settings) and `useRef` for PrimeReact `Toast` notifications.
*   **Data Fetching & Display:**
    *   Utilizes a custom `fetchListAllData` utility to retrieve folder data, supporting pagination and sorting.
    *   Fetches top-level summary counts (e.g., 'open', 'confirmed', 'quoted' folders, 'today', 'thisMonth' created folders) using `getTopSummaryCounts`.
    *   Integrates with Supabase for data operations and real-time updates via a `public:folders` channel listener, ensuring the list refreshes automatically on database changes.
    *   Employs a `DataTableList` component for rendering the main table and `FolderActionColumnTemplate` for actions.
*   **Folder Creation:**
    *   Uses `formik` with `folderCreateSchema` (validation schema) for handling folder creation.
    *   Automatically generates unique `folder_uid` and `passengers_uid`.
    *   Inserts new folder data into the `folders` table, associating it with the creating user and company.
    *   Upon successful folder creation, it also generates and inserts initial passenger records (including a main lead passenger and "UNNAMED" passengers based on `folder_no_pax`) into the `passengers` table.
    *   Navigates the user to the folder edit page after creation.
*   **Folder Filtering:**
    *   Uses `formik` for managing filter inputs (`filterData`).
    *   The `handleFilterFormSubmit` function constructs a complex Supabase query based on various filter criteria, including:
        *   Date range filters (`created_at`, `updated_at`, `folder_departure_date`).
        *   Exact match filters (`folder_uid`, `order_id`, `invoice_id`, `created_by`, `updated_by`).
        *   Text search with `OR` conditions (`client_name`, `client_email`, `pax_email`, `client_phone`, `pax_phone`, `folder_lead_pass_first_name`, `folder_lead_pass_last_name`).
*   **User Context and Authentication:** Leverages `useAuth` to access user-specific information (e.g., `user_id`, `company_id`, `company_currency`) for data creation and authorization.
*   **UI/UX Elements:**
    *   Incorporates various UI components like `FilterModal`, `ModalCustom`, `Pageheader`, `Button`, `ButtonFilter`, `ConfirmModalBody`, `ModalSidebarSetting`, and `DateRangeWirhoutCalender`.
    *   Uses `react-icons` for a wide range of icons to enhance visual feedback.
    *   Employs `Toastify` and `primereact/toast` for showing success and error messages.
*   **Modularity:** Imports components and utilities from various paths, indicating a well-structured project with reusable modules (e.g., `hooks`, `components`, `util`, `constants`, `validation`).